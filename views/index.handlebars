<h2>Burgers</h2>

<ul>
    {{#each burgers}}
    <li>{{burger_name}} - Devoured: {{devoured}}</li>
    {{/each}}
</ul>

<h3>Add a burger</h3>
<form id="addburger">
    <div class="form-group">
        <label for="burgername">Burger name</label>
        <input type="text" id="burgernameinp" name="burgername">
    </div>

    <div class="form-group">
        <label for="devoured">Devoured?</label>
        <input type="radio" name="devoured" value="1" checked> Devoured
        <input type="radio" name="devoured" value="0"> Not devoured
    </div>

    <button type="submit">Add burger</button>
</form>

<script>

    $(function() {
        $("#addburger").on("submit", function(e){
            e.preventDefault();

            let newBurger = {
                burgername: $("#burgernameinp").val(),
                devoured: $("[name = devoured]:checked").val()
            };
            console.log(newBurger)
            $.ajax("/api/burgers", {
                type: "POST",
                data: newBurger
            }).then(function(){
                console.log("created new burger");
                location.reload();
            })
        })

    })
</script>